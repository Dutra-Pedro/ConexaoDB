DROP TABLE USUARIOS;

CREATE TABLE USUARIOS(
id_usuario INT NOT NULL,
nome VARCHAR(50) NOT NULL,
email VARCHAR(50),
senha VARCHAR(50) NOT NULL,
dt_registro DATE NOT NULL,
PRIMARY KEY(id_usuario)
);



DROP TRIGGER tr_insert_id_usuario;
DROP SEQUENCE user_sequence;

CREATE SEQUENCE user_sequence  START WITH 1 INCREMENT BY 1;

CREATE OR REPLACE TRIGGER tr_insert_id_usuario
BEFORE INSERT ON USUARIOS FOR EACH ROW
BEGIN

SELECT user_sequence.NEXTVAL
INTO :NEW.id_usuario
FROM DUAL;
END;
/

COMMIT;
